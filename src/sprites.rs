use crate::palette::set_colors;
use crate::wasm4;

const DIE_1: [u8; 32] = [
    0x3f, 0xfc, 0x7f, 0xfe, 0xe0, 0x07, 0xc0, 0x03, 0xc0, 0x03, 0xc0, 0x03, 0xc0, 0x03, 0xc1, 0x83,
    0xc1, 0x83, 0xc0, 0x03, 0xc0, 0x03, 0xc0, 0x03, 0xc0, 0x03, 0xe0, 0x07, 0x7f, 0xfe, 0x3f, 0xfc,
];
const DIE_2: [u8; 32] = [
    0x3f, 0xfc, 0x7f, 0xfe, 0xe0, 0x07, 0xc0, 0x03, 0xcc, 0x03, 0xcc, 0x03, 0xc0, 0x03, 0xc0, 0x03,
    0xc0, 0x03, 0xc0, 0x03, 0xc0, 0x33, 0xc0, 0x33, 0xc0, 0x03, 0xe0, 0x07, 0x7f, 0xfe, 0x3f, 0xfc,
];
const DIE_3: [u8; 32] = [
    0x3f, 0xfc, 0x7f, 0xfe, 0xe0, 0x07, 0xc0, 0x03, 0xcc, 0x03, 0xcc, 0x03, 0xc0, 0x03, 0xc1, 0x83,
    0xc1, 0x83, 0xc0, 0x03, 0xc0, 0x33, 0xc0, 0x33, 0xc0, 0x03, 0xe0, 0x07, 0x7f, 0xfe, 0x3f, 0xfc,
];
const DIE_4: [u8; 32] = [
    0x3f, 0xfc, 0x7f, 0xfe, 0xe0, 0x07, 0xc0, 0x03, 0xcc, 0x33, 0xcc, 0x33, 0xc0, 0x03, 0xc0, 0x03,
    0xc0, 0x03, 0xc0, 0x03, 0xcc, 0x33, 0xcc, 0x33, 0xc0, 0x03, 0xe0, 0x07, 0x7f, 0xfe, 0x3f, 0xfc,
];
const DIE_5: [u8; 32] = [
    0x3f, 0xfc, 0x7f, 0xfe, 0xe0, 0x07, 0xc0, 0x03, 0xcc, 0x33, 0xcc, 0x33, 0xc0, 0x03, 0xc1, 0x83,
    0xc1, 0x83, 0xc0, 0x03, 0xcc, 0x33, 0xcc, 0x33, 0xc0, 0x03, 0xe0, 0x07, 0x7f, 0xfe, 0x3f, 0xfc,
];
const DIE_6: [u8; 32] = [
    0x3f, 0xfc, 0x7f, 0xfe, 0xe0, 0x07, 0xc0, 0x03, 0xcc, 0x33, 0xcc, 0x33, 0xc0, 0x03, 0xcc, 0x33,
    0xcc, 0x33, 0xc0, 0x03, 0xcc, 0x33, 0xcc, 0x33, 0xc0, 0x03, 0xe0, 0x07, 0x7f, 0xfe, 0x3f, 0xfc,
];
const LOGO: [u8; 384] = [
    0x00, 0x00, 0x00, 0x00, 0xa8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x02, 0x56, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x09, 0xa9, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x09, 0x89, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0a, 0x00, 0x00,
    0x00, 0x00, 0x2a, 0x89, 0xa9, 0x82, 0xaa, 0xaa, 0xa8, 0x00, 0x00, 0x00, 0x00, 0x25, 0x80, 0x00,
    0x00, 0x00, 0x25, 0x82, 0x56, 0x02, 0x55, 0x55, 0x56, 0x00, 0x00, 0x00, 0x00, 0x25, 0x80, 0x00,
    0x00, 0x00, 0x25, 0x80, 0xa8, 0x02, 0xaa, 0xaa, 0xa8, 0x00, 0x00, 0x00, 0x00, 0x25, 0x80, 0x00,
    0x02, 0xaa, 0xa5, 0xaa, 0xa8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x25, 0x80, 0x00,
    0x02, 0x55, 0x55, 0x55, 0x58, 0x02, 0xaa, 0xaa, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x25, 0x80, 0x00,
    0x02, 0xaa, 0xa5, 0xaa, 0xa8, 0x09, 0x55, 0x55, 0x55, 0x80, 0x00, 0x00, 0x00, 0x25, 0x80, 0x00,
    0x00, 0x00, 0x25, 0x80, 0x00, 0x09, 0x55, 0x55, 0x55, 0x80, 0x00, 0x00, 0x00, 0x25, 0x80, 0x00,
    0x00, 0x28, 0x25, 0x82, 0x80, 0x0a, 0xaa, 0x96, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x25, 0xa0, 0x00,
    0x00, 0x26, 0x25, 0x89, 0x80, 0x00, 0x00, 0x96, 0x00, 0x02, 0xaa, 0xaa, 0xaa, 0x25, 0x5a, 0x00,
    0x00, 0x96, 0x25, 0x89, 0x60, 0x00, 0x00, 0x96, 0x00, 0x09, 0x55, 0x55, 0x56, 0x25, 0x55, 0xa0,
    0x00, 0x96, 0x25, 0x89, 0x60, 0x00, 0x00, 0x98, 0x00, 0x0a, 0xaa, 0xaa, 0xaa, 0x25, 0xa5, 0x58,
    0x00, 0x98, 0x25, 0x82, 0x60, 0x00, 0x02, 0x58, 0x00, 0x00, 0x00, 0x00, 0x00, 0x25, 0x8a, 0x58,
    0x02, 0x58, 0x25, 0x82, 0x58, 0x00, 0x02, 0x58, 0x00, 0x00, 0x00, 0x00, 0x00, 0x25, 0x80, 0xa0,
    0x02, 0x58, 0x25, 0x82, 0x58, 0x00, 0x09, 0x60, 0x00, 0x00, 0x00, 0x00, 0x00, 0x25, 0x80, 0x00,
    0x09, 0x60, 0x25, 0x80, 0x96, 0x00, 0x25, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x25, 0x80, 0x00,
    0x0a, 0x60, 0x25, 0x80, 0x9a, 0x02, 0x96, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x25, 0x80, 0x00,
    0x00, 0x80, 0x25, 0x80, 0x20, 0x09, 0x58, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x25, 0x80, 0x00,
    0x00, 0x00, 0x25, 0x80, 0x00, 0x02, 0xa0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x25, 0x80, 0x00,
    0x00, 0x00, 0x0a, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0a, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
];

pub fn die(value: u8, x: i32, y: i32) {
    set_colors(0x41);
    let sprite = match value {
        1 => &DIE_1,
        2 => &DIE_2,
        3 => &DIE_3,
        4 => &DIE_4,
        5 => &DIE_5,
        6 => &DIE_6,
        0 | 7..=u8::MAX => panic!("how?"),
    };

    wasm4::blit(sprite, x, y, 16, 16, wasm4::BLIT_1BPP);
}

pub fn logo(x: i32, y: i32) {
    wasm4::blit(&LOGO, x, y, 64, 24, wasm4::BLIT_2BPP);
}
